# Flexible matching with `match` query

The first full text query will look at is the match query.

This is a powerful and simple query, but it allows for very flexible matching.

It's very useful for searching for queries that users enter, such as on Google.

As you know, some level queries are used for exact matching and are therefore more useful when filtering on enum fields or queries that you have control over as a developer.

When dealing with search queries that come straight from a text input, the match query is better suited.

Let's start with a query that searches for a sentence that could very well have been written into a search field by human.

## Standard `match` query

```
GET /recipe/_search
{
  "query": {
    "match": {
      "title": "Recipes with pasta or spaghetti"
    }
  }
}
```
So get recipe defaults search and across body and the query object to query will be a match query and the field will be title.

And let's enter recipes with pasta or spaghetti.

And let's run it.
```
{
  "took" : 20,
  "timed_out" : false,
  "_shards" : {
    "total" : 1,
    "successful" : 1,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : {
      "value" : 17,
      "relation" : "eq"
    },
    "max_score" : 5.130475,
    "hits" : [
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "11",
        "_score" : 5.130475,
        "_ignored" : [
          "description.keyword",
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Spaghetti Puttanesca (Pasta or Spaghetti With Capers, Olives, and Anchovies)",
          "description" : "\"Puttanesca\" literally translates to \"in the style of prostitutes,\" supposedly because the pungent aromas of garlic, anchovies, capers, and olives tossed with pasta were how Neapolitan prostitutes would lead customers to their doors. This is one of those stories that seem, in the words of Douglas Adams, apocryphal or at least wildly inaccurate. That said, it's a fitting title—puttanesca packs an aromatic punch and then some.",
          "preparation_time_minutes" : 15,
          "servings" : {
            "min" : 2,
            "max" : 3
          },
          "steps" : [
            "Place spaghetti in a large skillet, sauté pan, or saucepan and cover with water. Add a small pinch of salt. Bring to a boil over high heat, stirring occasionally to prevent pasta from sticking.",
            "Meanwhile, in a medium skillet, combine 4 tablespoons (60ml) oil, garlic, anchovies, and red pepper flakes. Cook over medium heat until garlic is very lightly golden, about 5 minutes. (Adjust heat as necessary to keep it gently sizzling.) Add capers and olives and stir to combine.",
            "Add tomatoes, stir to combine, and bring to a bare simmer. Continue to simmer until pasta is cooked to just under al dente (about 1 minute less than the package recommends).",
            "Using tongs, transfer pasta to sauce. Alternatively, drain pasta through a colander, reserving 1 cup of the cooking water. Add drained pasta to sauce.",
            "Add a few tablespoons of pasta water to sauce and increase heat to bring pasta and sauce to a vigorous simmer. Cook, stirring and shaking the pan and adding more pasta water as necessary to keep sauce loose, until pasta is perfectly al dente, 1 to 2 minutes longer. (The pasta will cook more slowly in the sauce than it did in the water.) Stir in remaining olive oil, parsley, and cheese.",
            "Season with salt and pepper. (Be generous with the pepper and scant with the salt—the dish will be plenty salty from the other ingredients.) If using, stir in canned tuna and break it up with a fork. Serve immediately with more grated cheese at the table."
          ],
          "ingredients" : [
            {
              "name" : "Dried spaghetti",
              "quantity" : "225g"
            },
            {
              "name" : "Kosher salt"
            },
            {
              "name" : "Extra-virgin olive oil",
              "quantity" : "6 tablespoons"
            },
            {
              "name" : "Cloves garlic",
              "quantity" : "4"
            },
            {
              "name" : "Anchovy fillets",
              "quantity" : "4-6"
            },
            {
              "name" : "Large pinch red pepper flakes"
            },
            {
              "name" : "Capers",
              "quantity" : "1/4 cup"
            },
            {
              "name" : "Pitted black olives",
              "quantity" : "1/4 cup"
            },
            {
              "name" : "Whole peeled tomatoes",
              "quantity" : "225g"
            },
            {
              "name" : "Minced fresh parsley leaves",
              "quantity" : "Small handful"
            },
            {
              "name" : "Finely grated Pecorino Romano or Parmesan cheese",
              "quantity" : "30g"
            },
            {
              "name" : "Freshly ground black pepper"
            },
            {
              "name" : "Can oil-packed tuna",
              "quantity" : "140g"
            }
          ],
          "created" : "2011/02/21",
          "ratings" : [
            0.5,
            1.0,
            0.5,
            1.5,
            2.0
          ]
        }
      },
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "4",
        "_score" : 1.7906591,
        "_ignored" : [
          "description.keyword",
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Shrimp Fra Diavolo (Spaghetti With Spicy Tomato Sauce)",
          "description" : "Lobster fra diavolo is a classic Italian-American pasta dish, but the lobster version is a lot easier for restaurants than home cooks. Shrimp make an excellent stand-in, as long as you know how to infuse the spicy tomato sauce with some real shellfish flavor.",
          "preparation_time_minutes" : 30,
          "servings" : {
            "min" : 4,
            "max" : 4
          },
          "steps" : [
            "Bring a large pot of salted water to a boil. In a medium bowl, toss the shrimp well with the 1/2 teaspoon salt and the baking soda. Set aside.",
            "In a large skillet or sauté pan, heat 4 tablespoons olive oil over medium-high heat until shimmering, Add reserved shrimp shells and cook, stirring constantly, until they've all turned a reddish color, about 4 minutes. Off the heat, remove the shells using tongs, a slotted spatula, and/or a slotted spoon, allowing any excess oil to drain back into skillet as you go; discard the shells. You should still have plenty of oil left in the skillet.",
            "Return the skillet to medium-high heat, add the shrimp, and cook, stirring and turning occasionally, until shrimp are just starting to brown in spots and are almost fully cooked through, about 3 minutes. Off the heat, transfer shrimp to a plate and set aside.",
            "Return the skillet to medium-low heat. Add garlic, oregano, and chili flakes and cook, stirring, until garlic is just beginning to turn golden, about 3 minutes. Add brandy, if using, and cook until almost fully evaporated. Add tomatoes and clam juice and bring to a simmer. Season with salt.",
            "Boil the pasta in the pot of salted water until al dente. Drain, reserving about 1 cup of the pasta cooking water, and add pasta to the sauce along with a splash of the pasta cooking water. Add shrimp and cook over medium-high heat, stirring, until the sauce reduces and clings to pasta and the shrimp are fully heated through; add more pasta water as necessary if the sauce becomes too dry. Season with salt, if necessary.",
            "Stir in parsley and remaining 2 tablespoons olive oil. Serve right away."
          ],
          "ingredients" : [
            {
              "name" : "Kosher salt",
              "quantity" : "1/2 teaspoon"
            },
            {
              "name" : "Large shrimp",
              "quantity" : "340g"
            },
            {
              "name" : "Large pinch baking soda"
            },
            {
              "name" : "Extra-virgin olive oil",
              "quantity" : "90ml"
            },
            {
              "name" : "Cloves garlic",
              "quantity" : "4"
            },
            {
              "name" : "Dried oregano",
              "quantity" : "1,5 teaspoons"
            },
            {
              "name" : "Red chili flakes ",
              "quantity" : "1-2 teaspoons"
            },
            {
              "name" : "Brandy",
              "quantity" : "30ml"
            },
            {
              "name" : "Whole peeled tomatoes",
              "quantity" : "800g"
            },
            {
              "name" : "Clam juice",
              "quantity" : "120ml"
            },
            {
              "name" : "Spaghetti",
              "quantity" : "450g"
            },
            {
              "name" : "Minced flat-leaf parsley leaves",
              "quantity" : "1/4 cup"
            }
          ],
          "created" : "2001/07/01",
          "ratings" : [
            1.5,
            3.0,
            3.5,
            2.0
          ]
        }
      },
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "6",
        "_score" : 1.7677585,
        "_ignored" : [
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Spaghetti Aglio e Olio Recipe",
          "description" : "One of the most basic pasta sauces, aglio e olio uses just garlic and olive oil (and maybe a pinch of red pepper flakes for heat). It sounds too simple to be good, but it's among the best.",
          "preparation_time_minutes" : 10,
          "servings" : {
            "min" : 4,
            "max" : 4
          },
          "steps" : [
            "In a pot of salted boiling water, cook spaghetti until just shy of al dente (about 1 minute less than the package directs). Reserve pasta cooking water.",
            "Meanwhile, in a large skillet, combine 6 tablespoons oil and garlic. Add pinch of red pepper flakes, if using. Cook over medium heat until garlic is very lightly golden, about 5 minutes. (Adjust heat as necessary to keep it gently sizzling.)",
            "Transfer pasta to skillet along with 1/2 cup pasta water, increase heat to high, and cook, stirring and tossing rapidly, until a creamy, emulsified sauce forms and coats the noodles. Remove from heat, add remaining 2 tablespoons olive oil, and stir well to combine. Mix in parsley, if using, and serve right away."
          ],
          "ingredients" : [
            {
              "name" : "Kosher salt"
            },
            {
              "name" : "Dried spaghetti",
              "quantity" : "450g"
            },
            {
              "name" : "Extra-virgin olive oil",
              "quantity" : "120ml"
            },
            {
              "name" : "Cloves garlic",
              "quantity" : "4"
            },
            {
              "name" : "Red pepper flakes"
            },
            {
              "name" : "Minced flat-leaf parsley"
            }
          ],
          "created" : "2016/09/23",
          "ratings" : [
            0.5,
            3.5,
            2.5,
            3.0,
            1.0,
            4.0
          ]
        }
      },
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "7",
        "_score" : 1.6082144,
        "_ignored" : [
          "description.keyword",
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Cacio e Pepe (Spaghetti With Black Pepper and Pecorino Romano)",
          "description" : "If you were to watch a practiced hand make cacio e pepe, you might think the instructions were as simple as this: Cook spaghetti and drain. Toss with olive oil, butter, black pepper, and grated Pecorino Romano cheese. Serve. But we all know that the simplest recipes can often be the most confounding, and so it is with cacio e pepe. Follow those instructions and, if you're lucky, you'll get what you're after: a creamy, emulsified sauce that coats each strand of spaghetti with flavor. More likely, you're gonna get what I (and, from the stories I've heard, many others as well) got on the first few tries—spaghetti in a thin, greasy sauce, or spaghetti with clumps of cheese that refuse to melt. Or, worse, both at the same time. Here's how to make it perfectly every time.",
          "preparation_time_minutes" : 15,
          "servings" : {
            "min" : 2,
            "max" : 3
          },
          "steps" : [
            "Heat 3 tablespoons olive oil and about a teaspoon of black pepper in a medium skillet over medium-low heat until ingredients are fragrant and pepper is barely starting to sizzle, about 1 minute. Set aside.",
            "Place spaghetti in a large skillet and cover with water. Season with a small pinch of salt, then bring to a boil over high heat, prodding spaghetti occasionally with a fork or wooden spoon to prevent it from clumping. Cook until spaghetti is al dente (typically about 1 minute less than the package recommends). Transfer 2 to 3 tablespoons of pasta cooking water to the skillet with the olive oil/pepper mixture. Stir in butter. Using tongs, lift spaghetti and transfer it to the oil/butter mixture.",
            "Add cheese and remaining tablespoon olive oil to the skillet and stir with a fork until cheese is completely melted. Add a few more tablespoons of pasta water to the skillet to adjust consistency, reheating as necessary until the sauce is creamy and coats each strand of spaghetti. Season to taste with salt and more black pepper. Serve immediately, passing extra grated cheese and black pepper at the table."
          ],
          "ingredients" : [
            {
              "name" : "Extra-virgin olive oil",
              "quantity" : "60ml"
            },
            {
              "name" : "Coarsely ground black pepper"
            },
            {
              "name" : "Kosher salt"
            },
            {
              "name" : "Spaghetti",
              "quantity" : "225g"
            },
            {
              "name" : "Unsalted butter",
              "quantity" : "30g"
            },
            {
              "name" : "Pecorino Romano cheese",
              "quantity" : "55g"
            }
          ],
          "created" : "2009/11/24",
          "ratings" : [
            4.0,
            3.0,
            4.5,
            3.5
          ]
        }
      },
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "18",
        "_score" : 1.2407094,
        "_ignored" : [
          "description.keyword",
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Vegetarian Citrus Pasta With Swiss Chard",
          "description" : "Sumac is a Middle Eastern spice that has a tart lemony flavor. You can find it in specialty shops or order it online. I used whole wheat fusilli, which required about a half cup more liquid than regular pasta and adds a denser mouthfeel to the dish. You can use regular as well—just decrease the cooking liquid by 1/2 cup.",
          "preparation_time_minutes" : 20,
          "servings" : {
            "min" : 4,
            "max" : 4
          },
          "steps" : [
            "Heat the oil in a 12-inch skillet over medium-high heat until shimmering. Add the chard stems and season with salt and cook until they begin to soften, about 3 minutes. Add the shallots and cook until they have softened, adding another pinch of salt and the red chile flakes, about 2 minutes.",
            "Add the stock to the pan with the fusilli and adjust the heat to maintain a vigorous boil and cook according to the package directions until the pasta has about 4 minutes left in the cooking process. Then, stir in the chard leaves and cook until the pasta and chard are done. Stir in the lemon juice and zest and adjust the seasoning as needed. Divide among plates, sprinkle with the sumac and freshly grated cheese."
          ],
          "ingredients" : [
            {
              "name" : "Olive oil",
              "quantity" : "2 tablespoons"
            },
            {
              "name" : "Swiss chard",
              "quantity" : "A bunch"
            },
            {
              "name" : "Large shallot",
              "quantity" : "1"
            },
            {
              "name" : "Kosher salt"
            },
            {
              "name" : "Freshly ground black pepper"
            },
            {
              "name" : "Dried red chile flakes"
            },
            {
              "name" : "Homemade vegetable stock",
              "quantity" : "4,5 cups"
            },
            {
              "name" : "Whole wheat fusilli pasta",
              "quantity" : "450g"
            },
            {
              "name" : "Fresh lemon juice",
              "quantity" : "2 tablespoons"
            },
            {
              "name" : "Sumac",
              "quantity" : "1 tablespoon"
            },
            {
              "name" : "Parmigiano-Reggiano"
            }
          ],
          "created" : "2007/10/29",
          "ratings" : [
            5.0,
            5.0,
            4.5,
            3.0,
            2.5,
            4.0,
            4.5,
            3.5,
            4.0
          ]
        }
      },
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "13",
        "_score" : 1.166101,
        "_ignored" : [
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Pesto Pasta With Potatoes and Green Beans",
          "description" : "This classic Genovese method of preparing pasta with pesto includes cubes of potato and pieces of green bean, all cooked together in the pasta pot until tender.",
          "preparation_time_minutes" : 15,
          "servings" : {
            "min" : 4,
            "max" : 4
          },
          "steps" : [
            "In a large pot of salted boiling water, boil pasta, potato, and green beans until pasta is al dente and potato and green beans are very tender. Drain, reserving 1 cup cooking water, and transfer pasta, potato, and green beans to a large mixing or serving bowl.",
            "Add pesto sauce to pasta along with 1/4 cup pasta cooking water. Toss well to emulsify pesto and pasta water into a creamy sauce. Add more pasta water, 1 tablespoon at a time, as needed, if pasta is too dry. Drizzle in fresh olive oil, if desired. Serve with Parmigiano Reggiano on the side."
          ],
          "ingredients" : [
            {
              "name" : "Kosher salt"
            },
            {
              "name" : "Dried pasta",
              "quantity" : "450g"
            },
            {
              "name" : "Peeled Yukon Gold potato",
              "quantity" : "140g"
            },
            {
              "name" : "Green beans",
              "quantity" : "110g"
            },
            {
              "name" : "Pesto sauce"
            },
            {
              "name" : "Extra-virgin olive oil"
            },
            {
              "name" : "Grated Parmigiano Reggiano"
            }
          ],
          "created" : "2010/12/21",
          "ratings" : [ ]
        }
      },
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "19",
        "_score" : 1.166101,
        "_ignored" : [
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Pasta With Mushrooms, Brussels Sprouts, and Parmesan",
          "description" : "A quick dinner of orecchiette pasta tossed in a clingy sauce made with mushrooms, shallots, thyme, and brussels sprouts leaves.",
          "preparation_time_minutes" : 25,
          "servings" : {
            "min" : 4,
            "max" : 4
          },
          "steps" : [
            "Bring a medium pot of salted water to a boil. Heat 1 tablespoon olive oil in a large skillet over high heat until smoking. Add brussels sprouts, toss to coat in oil, season with salt and pepper, cook without moving until well charred on one side. Toss and continue to cook until leaves are bright green and charred in spots, about 2 minutes total. Transfer to a bowl and set aside.",
            "Heat remaining 2 tablespoons oil in the same skillet over high heat until lightly smoking. Add mushrooms and cook, tossing occasionally, until moisture has been evaporated and the mushrooms are well browned, about 4 minutes. Add shallots, garlic, and thyme and cook, stirring, until shallots are softened and fragrant, about 1 minute. Add butter, lemon juice, and stock. Simmer until sauce is reduced and emulsified, about 1 minute. Season to taste with salt and pepper (this may not be necessary if stock is store-bought). Set aside off heat.",
            "Add orecchiette to pot and cook, stirring occasionally, until nearly al dente (about 1 minute less than the package instructions). Drain, reserving 1/2 cup cooking water. Add orecchiette, half of Parmesan, reserved pasta cooking water, and a generous amount of black pepper to mushrooms. Cook, stirring, over high heat until pasta is fully al dente and liquid has thickened into a sauce that coats the pasta, about 1 minute. If sauce looks greasy or broken, add 2 tablespoons of stock or water and stir vigorously to bring it back together. Stir in brussels sprouts leaves and serve, topping with more cheese at the table."
          ],
          "ingredients" : [
            {
              "name" : "Olive oil",
              "quantity" : "3 tablespoons"
            },
            {
              "name" : "Brussels sprouts",
              "quantity" : "115g"
            },
            {
              "name" : "Kosher salt"
            },
            {
              "name" : "Freshly ground black pepper"
            },
            {
              "name" : "Mixed mushrooms",
              "quantity" : "225g"
            },
            {
              "name" : "Shallot",
              "quantity" : "1"
            },
            {
              "name" : "Cloves garlic",
              "quantity" : "2"
            },
            {
              "name" : "Fresh thyme leaves",
              "quantity" : "1 teaspoon"
            },
            {
              "name" : "Butter",
              "quantity" : "4 tablespoons"
            },
            {
              "name" : "Freshly squeezed lemon juice",
              "quantity" : "2 teaspoons"
            },
            {
              "name" : "Homemade vegetable or chicken stock",
              "quantity" : "1/2 cup"
            },
            {
              "name" : "Dried orecchiette",
              "quantity" : "450g"
            },
            {
              "name" : "Freshly grated Parmesan cheese",
              "quantity" : "55g"
            }
          ],
          "created" : "2015/02/14",
          "ratings" : [
            3.5,
            4.0,
            3.5,
            3.0,
            4.5,
            4.0
          ]
        }
      },
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "2",
        "_score" : 1.0999566,
        "_ignored" : [
          "description.keyword",
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Pasta With Butternut Squash and Sage Brown Butter",
          "description" : "Brown butter-based pasta sauces are some of the simplest things around. They're emulsions made with a flavorful fat and pasta cooking water that coats the pasta in a thin, creamy sheen of flavor. Throw in some sautéed squash and some sage and you've got yourself a great 30-minute meal. It's a classic fall and winter dish that can be made right on the stovetop.",
          "preparation_time_minutes" : 30,
          "servings" : {
            "min" : 4,
            "max" : 6
          },
          "steps" : [
            "Heat olive oil in a large stainless steel or cast-iron skillet over high heat until very lightly smoking. Immediately add squash, season with salt and pepper, and cook, stirring and tossing occasionally, until well-browned and squash is tender, about 5 minutes. Add butter and shallots and continue cooking, stirring frequently, until butter is lightly browned and smells nutty, about 1 minute longer. Add sage and stir to combine (sage should crackle and let off a great aroma). Remove from heat and stir in lemon juice. Set aside.",
            "In a medium saucepan, combine pasta with enough room temperature or hot water to cover by about 2 inches. Season with salt. Set over high heat and bring to a boil while stirring frequently. Cook, stirring frequently, until pasta is just shy of al dente, about 2 minutes less than the package directions. Drain pasta, reserving a couple cups of the starchy cooking liquid.",
            "Add pasta to skillet with squash along with a splash of pasta water. Bring to a simmer over high heat and cook until the pasta is perfectly al dente, stirring and tossing constantly and adding a splash of water as needed to keep the sauce loose and shiny. Off heat, stir in Parmigiano-Reggiano. Adjust seasoning with salt and pepper and texture with more pasta water as needed. Serve immediately, topped with more cheese at the table."
          ],
          "ingredients" : [
            {
              "name" : "extra-virgin olive oil",
              "quantity" : "30ml"
            },
            {
              "name" : "Butternut squash",
              "quantity" : "450g"
            },
            {
              "name" : "Kosher salt"
            },
            {
              "name" : "Freshly ground black pepper"
            },
            {
              "name" : "Unsalted butter",
              "quantity" : "30g"
            },
            {
              "name" : "Shallot",
              "quantity" : "1"
            },
            {
              "name" : "Fresh sage leaves",
              "quantity" : "15g"
            },
            {
              "name" : "Lemon juice",
              "quantity" : "15ml"
            },
            {
              "name" : "Penne",
              "quantity" : "450g"
            },
            {
              "name" : "Grated fresh Parmigiano-Reggiano cheese",
              "quantity" : "30g"
            }
          ],
          "created" : "2014/12/19",
          "ratings" : [
            3.0,
            4.0,
            3.5,
            2.0
          ]
        }
      },
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "17",
        "_score" : 1.0999566,
        "_ignored" : [
          "description.keyword",
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Skillet Pasta With Mushrooms, Pancetta, and Wilted Greens",
          "description" : "This easy one-pot pasta dish is filled with browned bits of pancetta, earthy Shiitake mushrooms and wilted greens, and comes together in just 25 minutes. Finished with nutty shavings of Parmesan and freshly cracked black pepper, it's a perfect weeknight meal.",
          "preparation_time_minutes" : 30,
          "servings" : {
            "min" : 4,
            "max" : 4
          },
          "steps" : [
            "Heat oil in a large saucepan over medium-high heat until shimmering. Add pancetta and cook until fat begins to render and pancetta is lightly browned, about 2 minutes. Stir in mushrooms, tossing until coated with oil. Cook, stirring, until mushrooms have browned and pancetta has rendered most of its fat, about 5 minutes longer. Stir in shallots and serrano and cook until softened, about 1 minute. Remove from heat and scrape pancetta mixture into a bowl. Set aside.",
            "Add stock to now-empty saucepan and bring to a boil over high heat. Add pasta. Cook pasta, stirring occasionally, for 2 minutes less than package instructions, then stir in greens. Cook for 1 minute longer, then stir in pancetta mixture, along with all the rendered fat. Cook until the pasta is al dente, greens are wilted, and liquid has mostly evaporated and formed an emulsified, creamy sauce, about 1 minute (if necessary, add water a tablespoon at a time if liquid completely evaporates before pasta is tender).",
            "Remove from heat and stir in lemon juice and extra-virgin olive oil. Season to taste with salt and pepper. Spoon onto plates and top with Parmesan cheese. Serve immediately."
          ],
          "ingredients" : [
            {
              "name" : "Extra-virgin olive oil",
              "quantity" : "1/2 tablespoon"
            },
            {
              "name" : "Panchetta",
              "quantity" : "115g"
            },
            {
              "name" : "Shiitake mushrooms",
              "quantity" : "2 cups"
            },
            {
              "name" : "Shallot",
              "quantity" : "1"
            },
            {
              "name" : "Serrano chile pepper",
              "quantity" : "1/2"
            },
            {
              "name" : "Homemade chicken or vegetable stock",
              "quantity" : "5 cups"
            },
            {
              "name" : "Dried fusilli",
              "quantity" : "450g"
            },
            {
              "name" : "Kosher salt"
            },
            {
              "name" : "Freshly ground black pepper"
            },
            {
              "name" : "Fresh lemon juice",
              "quantity" : "2 tablespoons"
            },
            {
              "name" : "Greens (e.g. kale)",
              "quantity" : "A bunch"
            },
            {
              "name" : "Parmesan"
            }
          ],
          "created" : "2014/03/03",
          "ratings" : [
            5.0,
            1.5,
            3.0,
            4.5
          ]
        }
      },
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "8",
        "_score" : 1.0835493,
        "_ignored" : [
          "description.keyword",
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Vegan Carbonara Pasta",
          "description" : "Carbonara may be one of the most difficult recipes to vegan-ify, since every major ingredient in the sauce is off-limits. But by eating lots of the real deal and getting mighty crafty with an array of unlikely ingredients, I managed to create a vegan carbonara that captures the essence of the original like no other: It's silky and rich, unctuous, and studded with meaty bits, with the sharp, lactic tang of Pecorino Romano (but, of course, no actual Pecorino Romano).",
          "preparation_time_minutes" : 30,
          "servings" : {
            "min" : 4,
            "max" : 4
          },
          "steps" : [
            "In a blender, combine tofu, sauerkraut brine, nutritional yeast, miso, cayenne or chili flakes, smoked paprika, black pepper, and vinegar or lemon juice. Blend at high speed, stopping to scrape down sides if necessary, until a very smooth, silky sauce forms. Season with salt. Add 1/4 cup (60ml) olive oil and blend in at low speed just until emulsified.",
            "In a large sauté pan, heat remaining 1/4 cup (60ml) olive oil over medium-high heat until shimmering. Add mushrooms and cook, stirring, until browned, about 6 minutes.",
            "In a pot of salted boiling water, cook pasta until just al dente. Transfer pasta to pan with mushrooms, reserving pasta-cooking water. Pour on just enough creamy sauce to coat all the pasta, then add about 1/4 cup (60ml) pasta-cooking water. Cook over medium heat, stirring, until sauce forms a silky glaze that coats pasta. Serve."
          ],
          "ingredients" : [
            {
              "name" : "Silken tofu",
              "quantity" : "200g"
            },
            {
              "name" : "Sauerkraut brine",
              "quantity" : "120ml"
            },
            {
              "name" : "Nutritional yeast",
              "quantity" : "15g"
            },
            {
              "name" : "White miso",
              "quantity" : "15ml"
            },
            {
              "name" : "Cayenne pepper"
            },
            {
              "name" : "Smoked paprika",
              "quantity" : "1/4 teaspoon"
            },
            {
              "name" : "Freshly ground black pepper",
              "quantity" : "2 teaspoons"
            },
            {
              "name" : "White wine vinegar",
              "quantity" : "1 teaspoon"
            },
            {
              "name" : "Kosher salt"
            },
            {
              "name" : "Extra-virgin olive oil",
              "quantity" : "120ml"
            },
            {
              "name" : "King oyster mushrooms",
              "quantity" : "115g"
            },
            {
              "name" : "Dry spaghetti or penne",
              "quantity" : "450g"
            }
          ],
          "created" : "2002/01/04",
          "ratings" : [
            3.0,
            2.5,
            4.0,
            4.5,
            3.5,
            4.0
          ]
        }
      }
    ]
  }
}
```
And let's take a moment to inspect the results.

The first match contains the term spaghetti twice and the term pasta once, which gives it a high relevance score.

Scrolling down to the next recipe.

Notice how the title only includes the term pasta and none of the other terms.

The reason for that is that the match query is a Boolean query.

What happens internally is that the terms are used for Boolean query with a default operator of or that's a simplification as more than this happens, which I'll get back to soon.

Since the default operator is or all terms do not need to appear in the field that we are searching, but the more terms that appear, the higher the relevance.

This is useful because we probably don't want to require filler words such as with dir etc.

to be present.

That's because those words are not significant in terms of relevance and can differ based on who is writing the query.

For a sentence, this could easily mean that matches become unpredictable because there are so many variations and requiring every insignificant term to be present might result in some queries not matching, even though there are documents that are highly relevant.

Besides, perhaps you recall one of the factors of relevant scores, namely the inverse document frequency.

This factor reduces the importance and relevance boost for words that appear many times within an index, meaning that these filler words will not really cause any trouble in regards to relevance.

Therefore, you will usually want to leave the boolean operator at the default value.

But in case you want to change it, it can actually be done.

Let's see how.

## Specifying a boolean operator

```
GET /recipe/_search
{
  "query": {
    "match": {
      "title": {
        "query": "Recipes with pasta or spaghetti",
        "operator": "and"
      }
    }
  }
}
```
I will need to restructure it a bit, so I'll cut out this sentence and change this property to an object.

And add a quirky with The Simpsons from before and we can add an operator key and set it to end the default is or so now we're setting it to the Boolean and let's run it.

So with this, all of the terms within the query must be present within a document's title fields for it to match.
```
{
  "took" : 1,
  "timed_out" : false,
  "_shards" : {
    "total" : 1,
    "successful" : 1,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : {
      "value" : 0,
      "relation" : "eq"
    },
    "max_score" : null,
    "hits" : [ ]
  }
}
```

As a result, we no longer have any documents that match the query.

Even the recipe that had both the terms, spaghetti and pasta terms within the title, that recipe was highly relevant.

So our change was probably not for the better.

In other cases, it might be useful though.

If you can define the query ahead of time, then this could indeed be useful, such as when embedding queries within code and not using user input for the query.

Let's keep the end operator and try to shorten the query and get rid of the parts that caused it to not match anything.

So I'll delete the first two words.

So we only have the words pasta or spaghetti and run the query again.
```
GET /recipe/_search
{
  "query": {
    "match": {
      "title": {
        "query": "pasta or spaghetti",
        "operator": "and"
      }
    }
  }
}
```
```{
  "took" : 13,
  "timed_out" : false,
  "_shards" : {
    "total" : 1,
    "successful" : 1,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : {
      "value" : 1,
      "relation" : "eq"
    },
    "max_score" : 4.8397408,
    "hits" : [
      {
        "_index" : "recipe",
        "_type" : "_doc",
        "_id" : "11",
        "_score" : 4.8397408,
        "_ignored" : [
          "description.keyword",
          "steps.keyword"
        ],
        "_source" : {
          "title" : "Spaghetti Puttanesca (Pasta or Spaghetti With Capers, Olives, and Anchovies)",
          "description" : "\"Puttanesca\" literally translates to \"in the style of prostitutes,\" supposedly because the pungent aromas of garlic, anchovies, capers, and olives tossed with pasta were how Neapolitan prostitutes would lead customers to their doors. This is one of those stories that seem, in the words of Douglas Adams, apocryphal or at least wildly inaccurate. That said, it's a fitting title—puttanesca packs an aromatic punch and then some.",
          "preparation_time_minutes" : 15,
          "servings" : {
            "min" : 2,
            "max" : 3
          },
          "steps" : [
            "Place spaghetti in a large skillet, sauté pan, or saucepan and cover with water. Add a small pinch of salt. Bring to a boil over high heat, stirring occasionally to prevent pasta from sticking.",
            "Meanwhile, in a medium skillet, combine 4 tablespoons (60ml) oil, garlic, anchovies, and red pepper flakes. Cook over medium heat until garlic is very lightly golden, about 5 minutes. (Adjust heat as necessary to keep it gently sizzling.) Add capers and olives and stir to combine.",
            "Add tomatoes, stir to combine, and bring to a bare simmer. Continue to simmer until pasta is cooked to just under al dente (about 1 minute less than the package recommends).",
            "Using tongs, transfer pasta to sauce. Alternatively, drain pasta through a colander, reserving 1 cup of the cooking water. Add drained pasta to sauce.",
            "Add a few tablespoons of pasta water to sauce and increase heat to bring pasta and sauce to a vigorous simmer. Cook, stirring and shaking the pan and adding more pasta water as necessary to keep sauce loose, until pasta is perfectly al dente, 1 to 2 minutes longer. (The pasta will cook more slowly in the sauce than it did in the water.) Stir in remaining olive oil, parsley, and cheese.",
            "Season with salt and pepper. (Be generous with the pepper and scant with the salt—the dish will be plenty salty from the other ingredients.) If using, stir in canned tuna and break it up with a fork. Serve immediately with more grated cheese at the table."
          ],
          "ingredients" : [
            {
              "name" : "Dried spaghetti",
              "quantity" : "225g"
            },
            {
              "name" : "Kosher salt"
            },
            {
              "name" : "Extra-virgin olive oil",
              "quantity" : "6 tablespoons"
            },
            {
              "name" : "Cloves garlic",
              "quantity" : "4"
            },
            {
              "name" : "Anchovy fillets",
              "quantity" : "4-6"
            },
            {
              "name" : "Large pinch red pepper flakes"
            },
            {
              "name" : "Capers",
              "quantity" : "1/4 cup"
            },
            {
              "name" : "Pitted black olives",
              "quantity" : "1/4 cup"
            },
            {
              "name" : "Whole peeled tomatoes",
              "quantity" : "225g"
            },
            {
              "name" : "Minced fresh parsley leaves",
              "quantity" : "Small handful"
            },
            {
              "name" : "Finely grated Pecorino Romano or Parmesan cheese",
              "quantity" : "30g"
            },
            {
              "name" : "Freshly ground black pepper"
            },
            {
              "name" : "Can oil-packed tuna",
              "quantity" : "140g"
            }
          ],
          "created" : "2011/02/21",
          "ratings" : [
            0.5,
            1.0,
            0.5,
            1.5,
            2.0
          ]
        }
      }
    ]
  }
}

```
So this modified query now matches one document being the one with all three terms in the title.

Great.

But let's see what happens if I remove the autumn in the query.

So let's get rid of this and run the query again.
```
GET /recipe/_search
{
  "query": {
    "match": {
      "title": {
        "query": "pasta spaghetti",
        "operator": "and"
      }
    }
  }
}
```
As you can see within the results, the document still matches because both terms appear within the title field.

What I wanted to show you is that we are still searching for terms and not an entire sentence.

So that's why the document still matches.

And if I were to switch the terms around within the query, the document would still match just fine.

Remember that the crude that we enter for the match query is analyzed by using the analyzer that is specified within the field mapping.

This is of course, different than the term level queries that you just saw which are not analyzed.

So those were the basics of the match query.

